(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{2426:function(e,t,s){Promise.resolve().then(s.bind(s,5443))},5443:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var r=s(7437),a=s(8756),n=s(2265);function i(){return(0,r.jsx)("h1",{children:"Turizmo"})}var o=s(2650),l=s(9354),c=e=>{let t,{align:s="right",width:a=48,contentClasses:i="py-1 bg-white",trigger:c,children:d}=e;switch("48"===a&&(a="w-48"),s){case"left":t="origin-top-left left-0";break;case"top":t="origin-top";break;default:t="origin-top-right right-0"}return(0,r.jsx)(o.v,{as:"div",className:"relative",children:e=>{let{open:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.v.Button,{as:n.Fragment,children:c}),(0,r.jsx)(l.u,{show:s,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsx)("div",{className:"absolute z-50 mt-2 ".concat(a," rounded-md shadow-lg ").concat(t),children:(0,r.jsx)(o.v.Items,{className:"rounded-md focus:outline-none ring-1 ring-black ring-opacity-5 ".concat(i),static:!0,children:d})})})]})}})},d=s(1396),u=s.n(d),h=e=>{let{active:t=!1,children:s,...a}=e;return(0,r.jsx)(u(),{...a,className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium leading-5 focus:outline-none transition duration-150 ease-in-out ".concat(t?"border-indigo-400 text-gray-900 focus:border-indigo-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:text-gray-700 focus:border-gray-300"),children:s})};let x=e=>(0,r.jsx)("button",{className:"block w-full pl-3 pr-4 py-2 border-l-4 text-left text-base font-medium leading-5 focus:outline-none transition duration-150 ease-in-out border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300",...e});var m=e=>{let{active:t=!1,children:s,...a}=e;return(0,r.jsx)(u(),{...a,className:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium leading-5 focus:outline-none transition duration-150 ease-in-out ".concat(t?"border-indigo-400 text-indigo-700 bg-indigo-50 focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300"),children:s})};let g=e=>{let{children:t,...s}=e;return(0,r.jsx)(o.v.Item,{children:e=>{let{active:a}=e;return(0,r.jsx)("button",{className:"w-full text-left block px-4 py-2 text-sm leading-5 text-gray-700 ".concat(a?"bg-gray-100":""," focus:outline-none transition duration-150 ease-in-out"),...s,children:t})}})};var f=s(4033),p=e=>{let{user:t}=e,s=(0,f.useRouter)(),o=(0,f.usePathname)(),{logout:l}=(0,a.a)(),[d,p]=(0,n.useState)(!1);return(0,r.jsxs)("nav",{className:"bg-white border-b border-gray-100",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,r.jsx)(u(),{href:"/dashboard",children:(0,r.jsx)(i,{className:"block h-10 w-auto fill-current text-gray-600"})})}),(0,r.jsx)("div",{className:"hidden space-x-8 sm:-my-px sm:ml-10 sm:flex",children:(0,r.jsx)(h,{href:"/dashboard",active:"/dashboard"===o,children:"Dashboard"})})]}),(0,r.jsx)("div",{className:"hidden sm:flex sm:items-center sm:ml-6",children:(0,r.jsx)(c,{align:"right",width:"48",trigger:(0,r.jsxs)("button",{className:"flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 focus:outline-none transition duration-150 ease-in-out",children:[(0,r.jsx)("div",{children:null==t?void 0:t.name}),(0,r.jsx)("div",{className:"ml-1",children:(0,r.jsx)("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),children:(0,r.jsx)(g,{onClick:l,children:"Logout"})})}),(0,r.jsx)("div",{className:"-mr-2 flex items-center sm:hidden",children:(0,r.jsx)("button",{onClick:()=>p(e=>!e),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out",children:(0,r.jsx)("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:d?(0,r.jsx)("path",{className:"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{className:"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),d&&(0,r.jsxs)("div",{className:"block sm:hidden",children:[(0,r.jsx)("div",{className:"pt-2 pb-3 space-y-1",children:(0,r.jsx)(m,{href:"/dashboard",active:"/dashboard"===s.pathname,children:"Dashboard"})}),(0,r.jsxs)("div",{className:"pt-4 pb-1 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center px-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-10 w-10 fill-current text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("div",{className:"font-medium text-base text-gray-800",children:null==t?void 0:t.name}),(0,r.jsx)("div",{className:"font-medium text-sm text-gray-500",children:null==t?void 0:t.email})]})]}),(0,r.jsx)("div",{className:"mt-3 space-y-1",children:(0,r.jsx)(x,{onClick:l,children:"Logout"})})]})]})]})},v=()=>(0,r.jsx)("div",{className:"flex min-h-screen w-full items-center justify-center bg-gray-100",children:"Loading..."}),b=e=>{let{children:t,header:s}=e,{user:n}=(0,a.a)({middleware:"auth"});return n?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsx)(p,{user:n}),(0,r.jsx)("header",{className:"bg-white shadow",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:s})}),(0,r.jsx)("main",{children:t})]}):(0,r.jsx)(v,{})}},8756:function(e,t,s){"use strict";s.d(t,{a:function(){return c}});var r=s(6487),a=s(1630),n=s.n(a);let i=n().create({baseURL:"http://localhost:8000",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});var o=s(2265),l=s(4033);let c=function(){let{middleware:e,redirectIfAuthenticated:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,l.useRouter)(),a=(0,l.useParams)(),{data:n,error:c,mutate:d}=(0,r.ZP)("/api/user",()=>i.get("/api/user").then(e=>e.data).catch(e=>{if(409!==e.response.status)throw e;s.push("/verify-email")})),u=()=>i.get("/sanctum/csrf-cookie"),h=async e=>{let{setErrors:t,...s}=e;await u(),t([]),i.post("/register",s).then(()=>d()).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},x=async e=>{let{setErrors:t,setStatus:s,...r}=e;await u(),t([]),s(null),i.post("/login",r).then(()=>d()).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},m=async e=>{let{setErrors:t,setStatus:s,email:r}=e;await u(),t([]),s(null),i.post("/forgot-password",{email:r}).then(e=>s(e.data.status)).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},g=async e=>{let{setErrors:t,setStatus:r,...n}=e;await u(),t([]),r(null),i.post("/reset-password",{token:a.token,...n}).then(e=>s.push("/login?reset="+btoa(e.data.status))).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},f=async()=>{c||await i.post("/logout").then(()=>d()),window.location.pathname="/login"};return(0,o.useEffect)(()=>{"guest"===e&&t&&n&&s.push(t),"/verify-email"===window.location.pathname&&(null==n?void 0:n.email_verified_at)&&s.push(t),"auth"===e&&c&&f()},[n,c]),{user:n,register:h,login:x,forgotPassword:m,resetPassword:g,resendEmailVerification:e=>{let{setStatus:t}=e;i.post("/email/verification-notification").then(e=>t(e.data.status))},logout:f}}}},function(e){e.O(0,[530,326,798,971,472,744],function(){return e(e.s=2426)}),_N_E=e.O()}]);