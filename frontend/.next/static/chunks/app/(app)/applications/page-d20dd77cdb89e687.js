(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[319],{2722:function(e,t,a){Promise.resolve().then(a.bind(a,3806))},3806:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(7437);a(2265);var i=a(7930),n=a(2246),r=e=>{let{application:t}=e,{status:a,created_at:i,job:n}=t,{title:r,description:o,location:l,wage_rate:c,company_id:u}=n;return(0,s.jsxs)("div",{className:"max-w p-4 border border-gray-300 rounded-md mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-2",children:r}),(0,s.jsx)("p",{className:"text-gray-600 mb-2 text-sm",children:o}),(0,s.jsxs)("p",{className:"text-gray-600 mb-2 text-sm",children:["Location: ",l]}),(0,s.jsxs)("p",{className:"text-gray-600 mb-2 text-sm",children:["Wage Rate: â‚¬",c]}),(0,s.jsxs)("p",{className:"text-gray-600 mb-2 text-sm",children:["Company: ",u]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsxs)("p",{className:"text-gray-600 text-sm",children:["Application Status: ",a]}),(0,s.jsxs)("p",{className:"text-gray-600 text-sm",children:["Application Date: ",i]})]})]})};function o(){var e;let{data:t,error:a,isLoading:i}=(0,n.i)("/api/company/applications");return(0,s.jsx)("div",{className:"py-8 h-[calc(100vh-65px)]",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 h-full",children:(0,s.jsx)("div",{className:"bg-white overflow-auto shadow-sm sm:rounded-lg p-6 mt-1",children:(null==t?void 0:null===(e=t.applications)||void 0===e?void 0:e.length)>0?(0,s.jsx)(s.Fragment,{children:t.applications.map(e=>(0,s.jsx)(r,{application:e},e.id))}):(0,s.jsx)("div",{className:"flex items-center justify-center",children:i?"Loading...":a?null==a?void 0:a.message:"No applications found..."})})})})}function l(){var e;let{data:t,error:a,isLoading:i}=(0,n.i)("/api/worker/applications");return(0,s.jsx)("div",{className:"py-8 h-[calc(100vh-65px)]",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 h-full",children:(0,s.jsx)("div",{className:"bg-white overflow-auto shadow-sm sm:rounded-lg p-6 mt-1",children:(null==t?void 0:null===(e=t.applications)||void 0===e?void 0:e.length)>0?(0,s.jsx)(s.Fragment,{children:t.applications.map(e=>(0,s.jsx)(r,{application:e},e.id))}):(0,s.jsx)("div",{className:"flex items-center justify-center",children:i?"Loading...":a?null==a?void 0:a.message:"No applications found..."})})})})}function c(){let{user:e}=(0,i.a)({middleware:"auth"});return e.is_company?(0,s.jsx)(o,{}):(0,s.jsx)(l,{})}},7930:function(e,t,a){"use strict";a.d(t,{a:function(){return o}});var s=a(6487),i=a(6952),n=a(2265),r=a(4033);let o=function(){let{middleware:e,redirectIfAuthenticated:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,r.useRouter)(),o=(0,r.useParams)(),{data:l,error:c,mutate:u}=(0,s.ZP)("/api/user",()=>i.Z.get("/api/user").then(e=>e.data).catch(e=>{if(409!==e.response.status)throw e;a.push("/verify-email")})),{data:d,mutate:p}=(0,s.ZP)((null==l?void 0:l.is_company)?"/api/company/me":"/api/worker/me",()=>i.Z.get((null==l?void 0:l.is_company)?"/api/company/me":"/api/worker/me").then(e=>e.data).catch(e=>{if(409!==e.response.status)throw e;a.push("/verify-email")})),m=()=>i.Z.get("/sanctum/csrf-cookie"),h=async e=>{let{setErrors:t,...a}=e;await m(),t([]),i.Z.post("/register",a).then(()=>u()).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},f=async e=>{let{setErrors:t,setStatus:a,...s}=e;await m(),t([]),a(null),i.Z.post("/login",s).then(()=>u()).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},x=async e=>{let{setErrors:t,setStatus:a,email:s}=e;await m(),t([]),a(null),i.Z.post("/forgot-password",{email:s}).then(e=>a(e.data.status)).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},v=async e=>{let{setErrors:t,setStatus:s,...n}=e;await m(),t([]),s(null),i.Z.post("/reset-password",{token:o.token,...n}).then(e=>a.push("/login?reset="+btoa(e.data.status))).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},g=async()=>{c||await i.Z.post("/logout").then(()=>u()),window.location.pathname="/login"};return(0,n.useEffect)(()=>{"guest"===e&&t&&l&&a.push(t),"/verify-email"===window.location.pathname&&(null==l?void 0:l.email_verified_at)&&a.push(t),"auth"===e&&c&&g()},[l,c]),{user:l,register:h,login:f,forgotPassword:x,resetPassword:v,resendEmailVerification:e=>{let{setStatus:t}=e;i.Z.post("/email/verification-notification").then(e=>t(e.data.status))},logout:g,userDetails:d,mutateUserDetails:p}}},2246:function(e,t,a){"use strict";a.d(t,{i:function(){return o}});var s=a(6487),i=a(6952),n=a(2265);let r=async(e,t,a)=>{try{let s=await (0,i.Z)({method:t,url:e,...a});return s.data}catch(e){if(409!==e.response.status)throw e;console.error("Verify email")}},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{data:i,error:o,mutate:l,isValidating:c}=(0,s.ZP)([e,t],()=>r(e,t,a),a);return(0,n.useEffect)(()=>{},[i,o]),{data:i,error:o,mutate:l,isLoading:c}}},6952:function(e,t,a){"use strict";var s=a(1630),i=a.n(s);let n=i().create({baseURL:"https://api-dev.turizmo.pro",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});t.Z=n}},function(e){e.O(0,[530,971,472,744],function(){return e(e.s=2722)}),_N_E=e.O()}]);