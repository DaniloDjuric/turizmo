(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{2426:function(e,t,s){Promise.resolve().then(s.bind(s,4945))},4945:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(7437),a=s(8756),n=s(2265);function i(){return(0,r.jsx)("h1",{children:"Turizmo"})}var o=s(1396),l=s.n(o),c=e=>{let{active:t=!1,children:s,...a}=e;return(0,r.jsx)(l(),{...a,className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium leading-5 focus:outline-none transition duration-150 ease-in-out ".concat(t?"border-indigo-400 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:text-gray-700 focus:border-gray-300"),children:s})};let d=e=>(0,r.jsx)("button",{className:"block w-full pl-3 pr-4 py-2 border-l-4 text-left text-base font-medium leading-5 focus:outline-none transition duration-150 ease-in-out border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300",...e});var u=e=>{let{active:t=!1,children:s,...a}=e;return(0,r.jsx)(l(),{...a,className:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium leading-5 focus:outline-none transition duration-150 ease-in-out ".concat(t?"border-indigo-400 text-indigo-700 bg-indigo-50 focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300"),children:s})},h=s(4033),x=e=>{let{user:t}=e,s=(0,h.useRouter)(),o=(0,h.usePathname)(),{logout:x}=(0,a.a)(),[m,f]=(0,n.useState)(!1);return(0,r.jsxs)("nav",{className:"bg-white border-b border-gray-100",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,r.jsx)(l(),{href:"/jobs",children:(0,r.jsx)(i,{className:"block h-10 w-auto fill-current text-gray-600"})})}),(0,r.jsxs)("div",{className:"hidden space-x-8 sm:-my-px sm:ml-10 sm:flex",children:[(0,r.jsx)(c,{href:"/jobs",active:"/jobs"===o,children:"Jobs"}),(0,r.jsx)(c,{href:"/applications",active:"/applications"===o,children:"Applications"})]})]}),(0,r.jsxs)("div",{className:"hidden space-x-4 sm:-my-px sm:ml-10 sm:flex",children:[(0,r.jsx)(c,{href:"/profile",active:"/profile"===o,children:"Profile"}),(0,r.jsx)("div",{onClick:x,className:"inline-flex items-center px-1 pt-1 text-sm font-medium leading-5 focus:outline-none transition duration-150 ease-in-out text-gray-500 hover:text-gray-700 hover:cursor-pointer",children:"Logout"})]}),(0,r.jsx)("div",{className:"-mr-2 flex items-center sm:hidden",children:(0,r.jsx)("button",{onClick:()=>f(e=>!e),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out",children:(0,r.jsx)("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:m?(0,r.jsx)("path",{className:"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{className:"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),m&&(0,r.jsxs)("div",{className:"block sm:hidden",children:[(0,r.jsx)(l(),{href:"/profile",children:(0,r.jsxs)("div",{className:"flex items-center p-4 border border-gray-200 hover:bg-gray-100",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-10 w-10 fill-current text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("div",{className:"font-medium text-base text-gray-800",children:null==t?void 0:t.name}),(0,r.jsx)("div",{className:"font-medium text-sm text-gray-500",children:null==t?void 0:t.email})]})]})}),(0,r.jsxs)("div",{className:"pt-2 pb-3 space-y-1",children:[(0,r.jsx)(u,{href:"/jobs",active:"/jobs"===s.pathname,children:"Jobs"}),(0,r.jsx)(u,{href:"/applications",active:"/applications"===s.pathname,children:"Applications"}),(0,r.jsx)(d,{onClick:x,children:"Logout"})]})]})]})},m=()=>(0,r.jsx)("div",{className:"flex min-h-screen w-full items-center justify-center bg-gray-100",children:"Loading..."}),f=e=>{let{children:t}=e,{user:s}=(0,a.a)({middleware:"auth"});return s?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsx)(x,{user:s}),(0,r.jsx)("main",{children:t})]}):(0,r.jsx)(m,{})}},8756:function(e,t,s){"use strict";s.d(t,{a:function(){return c}});var r=s(6487),a=s(1630),n=s.n(a);let i=n().create({baseURL:"https://api-dev.turizmo.pro",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});var o=s(2265),l=s(4033);let c=function(){let{middleware:e,redirectIfAuthenticated:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,l.useRouter)(),a=(0,l.useParams)(),{data:n,error:c,mutate:d}=(0,r.ZP)("/api/user",()=>i.get("/api/user").then(e=>e.data).catch(e=>{if(409!==e.response.status)throw e;s.push("/verify-email")})),u=()=>i.get("/sanctum/csrf-cookie"),h=async e=>{let{setErrors:t,...s}=e;await u(),t([]),i.post("/register",s).then(()=>d()).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},x=async e=>{let{setErrors:t,setStatus:s,...r}=e;await u(),t([]),s(null),i.post("/login",r).then(()=>d()).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},m=async e=>{let{setErrors:t,setStatus:s,email:r}=e;await u(),t([]),s(null),i.post("/forgot-password",{email:r}).then(e=>s(e.data.status)).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},f=async e=>{let{setErrors:t,setStatus:r,...n}=e;await u(),t([]),r(null),i.post("/reset-password",{token:a.token,...n}).then(e=>s.push("/login?reset="+btoa(e.data.status))).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},p=async()=>{c||await i.post("/logout").then(()=>d()),window.location.pathname="/login"};return(0,o.useEffect)(()=>{"guest"===e&&t&&n&&s.push(t),"/verify-email"===window.location.pathname&&(null==n?void 0:n.email_verified_at)&&s.push(t),"auth"===e&&c&&p()},[n,c]),{user:n,register:h,login:x,forgotPassword:m,resetPassword:f,resendEmailVerification:e=>{let{setStatus:t}=e;i.post("/email/verification-notification").then(e=>t(e.data.status))},logout:p}}},1396:function(e,t,s){e.exports=s(8326)}},function(e){e.O(0,[530,326,971,472,744],function(){return e(e.s=2426)}),_N_E=e.O()}]);