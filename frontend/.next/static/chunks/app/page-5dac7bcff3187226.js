(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3835:function(e,t,s){Promise.resolve().then(s.bind(s,7026))},7026:function(e,t,s){"use strict";s.r(t);var a=s(7437),r=s(1396),n=s.n(r),i=s(8756);t.default=()=>{let{user:e}=(0,i.a)({middleware:"guest"});return(0,a.jsx)("div",{className:"hidden fixed top-0 right-0 px-6 py-4 sm:block",children:e?(0,a.jsx)(n(),{href:"/dashboard",className:"ml-4 text-sm text-gray-700 underline",children:"Dashboard"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n(),{href:"/login",className:"text-sm text-gray-700 underline",children:"Login"}),(0,a.jsx)(n(),{href:"/register",className:"ml-4 text-sm text-gray-700 underline",children:"Register"})]})})}},8756:function(e,t,s){"use strict";s.d(t,{a:function(){return u}});var a=s(6487),r=s(1630),n=s.n(r);let i=n().create({baseURL:"https://api-dev.turizmo.pro",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});var o=s(2265),l=s(4033);let u=function(){let{middleware:e,redirectIfAuthenticated:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,l.useRouter)(),r=(0,l.useParams)(),{data:n,error:u,mutate:c}=(0,a.ZP)("/api/user",()=>i.get("/api/user").then(e=>e.data).catch(e=>{if(409!==e.response.status)throw e;s.push("/verify-email")})),h=()=>i.get("/sanctum/csrf-cookie"),d=async e=>{let{setErrors:t,...s}=e;await h(),t([]),i.post("/register",s).then(()=>c()).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},p=async e=>{let{setErrors:t,setStatus:s,...a}=e;await h(),t([]),s(null),i.post("/login",a).then(()=>c()).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},f=async e=>{let{setErrors:t,setStatus:s,email:a}=e;await h(),t([]),s(null),i.post("/forgot-password",{email:a}).then(e=>s(e.data.status)).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},m=async e=>{let{setErrors:t,setStatus:a,...n}=e;await h(),t([]),a(null),i.post("/reset-password",{token:r.token,...n}).then(e=>s.push("/login?reset="+btoa(e.data.status))).catch(e=>{if(422!==e.response.status)throw e;t(e.response.data.errors)})},w=async()=>{u||await i.post("/logout").then(()=>c()),window.location.pathname="/login"};return(0,o.useEffect)(()=>{"guest"===e&&t&&n&&s.push(t),"/verify-email"===window.location.pathname&&(null==n?void 0:n.email_verified_at)&&s.push(t),"auth"===e&&u&&w()},[n,u]),{user:n,register:d,login:p,forgotPassword:f,resetPassword:m,resendEmailVerification:e=>{let{setStatus:t}=e;i.post("/email/verification-notification").then(e=>t(e.data.status))},logout:w}}},1396:function(e,t,s){e.exports=s(8326)}},function(e){e.O(0,[530,326,971,472,744],function(){return e(e.s=3835)}),_N_E=e.O()}]);