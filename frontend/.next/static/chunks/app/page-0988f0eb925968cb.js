(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3375:function(t,e,s){Promise.resolve().then(s.t.bind(s,8326,23)),Promise.resolve().then(s.bind(s,7026))},7026:function(t,e,s){"use strict";s.r(e);var a=s(7437),n=s(1396),r=s.n(n),i=s(8756);e.default=()=>{let{user:t}=(0,i.a)({middleware:"guest"});return(0,a.jsx)("div",{className:"hidden fixed top-0 right-0 px-6 py-4 sm:block",children:t?(0,a.jsx)(r(),{href:"/dashboard",className:"ml-4 text-sm text-white underline",children:"Dashboard"}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r(),{href:"/login",className:"text-sm text-white underline",children:"Login"})})})}},8756:function(t,e,s){"use strict";s.d(e,{a:function(){return u}});var a=s(6487),n=s(1630),r=s.n(n);let i=r().create({baseURL:"http://localhost:8000",headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0,withXSRFToken:!0});var o=s(2265),l=s(4033);let u=function(){let{middleware:t,redirectIfAuthenticated:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,l.useRouter)(),n=(0,l.useParams)(),{data:r,error:u,mutate:h}=(0,a.ZP)("/api/user",()=>i.get("/api/user").then(t=>t.data).catch(t=>{if(409!==t.response.status)throw t;s.push("/verify-email")})),c=()=>i.get("/sanctum/csrf-cookie"),d=async t=>{let{setErrors:e,...s}=t;await c(),e([]),i.post("/register",s).then(()=>h()).catch(t=>{if(422!==t.response.status)throw t;e(t.response.data.errors)})},p=async t=>{let{setErrors:e,setStatus:s,...a}=t;await c(),e([]),s(null),i.post("/login",a).then(()=>h()).catch(t=>{if(422!==t.response.status)throw t;e(t.response.data.errors)})},f=async t=>{let{setErrors:e,setStatus:s,email:a}=t;await c(),e([]),s(null),i.post("/forgot-password",{email:a}).then(t=>s(t.data.status)).catch(t=>{if(422!==t.response.status)throw t;e(t.response.data.errors)})},w=async t=>{let{setErrors:e,setStatus:a,...r}=t;await c(),e([]),a(null),i.post("/reset-password",{token:n.token,...r}).then(t=>s.push("/login?reset="+btoa(t.data.status))).catch(t=>{if(422!==t.response.status)throw t;e(t.response.data.errors)})},m=async()=>{u||await i.post("/logout").then(()=>h()),window.location.pathname="/login"};return(0,o.useEffect)(()=>{"guest"===t&&e&&r&&s.push(e),"/verify-email"===window.location.pathname&&(null==r?void 0:r.email_verified_at)&&s.push(e),"auth"===t&&u&&m()},[r,u]),{user:r,register:d,login:p,forgotPassword:f,resetPassword:w,resendEmailVerification:t=>{let{setStatus:e}=t;i.post("/email/verification-notification").then(t=>e(t.data.status))},logout:m}}},1396:function(t,e,s){t.exports=s(8326)}},function(t){t.O(0,[530,326,971,472,744],function(){return t(t.s=3375)}),_N_E=t.O()}]);